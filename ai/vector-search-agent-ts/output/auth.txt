â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” Azure Passwordless Authentication Test Suite
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ Configuration:
   OpenAI Instance: https://oaieopd77ujeia5s.openai.azure.com/
   Embedding Model: text-embedding-3-small
   Planner Model: gpt-4o-mini
   Synth Model: gpt-4o
   MongoDB Cluster: docdb-eopd77ujeia5s

ğŸ“ Testing Azure OpenAI Embeddings...
Embeddings with Managed Identity:
[
  [
     -0.002078542485833168,  -0.04908587411046028,  0.020946789532899857,
       0.03135102614760399,  -0.04530530795454979, -0.026402482762932777,
     -0.028999701142311096,   0.06030462309718132,  -0.02571091614663601,
      -0.01482258178293705,  0.015444992110133171, -0.029983261600136757,
     -0.020393535494804382,  -0.03334888815879822,  0.025833861902356148,
      0.014207855798304081,   -0.0700787678360939,  0.012432834133505821,
      0.014791845344007015,  0.048839982599020004,   0.02073163539171219,
     -0.008890475146472454, -0.015114576555788517,  -0.01661297120153904,
      0.025926070287823677, -0.002902659587562084, -0.024327782914042473,
      0.024281678721308708, 0.0017433245666325092, -0.055724915117025375,
       0.02308296225965023, -0.045489728450775146, -0.008652268908917904,
     0.0031619970686733723,  0.004583551082760096,  0.001794231589883566,
       0.02669447846710682,  0.010158347897231579, -0.012056314386427402,
     -0.011472324840724468,  -0.01491479016840458, -0.023129066452383995,
      0.025357449427247047,  0.036822088062763214, -0.035500429570674896,
       0.02126952074468136,  -0.06307089328765869,   0.04038750007748604,
       0.05354263633489609,   0.06153407692909241, -0.033656250685453415,
    -0.0066582513973116875,   0.02549576200544834,   0.10966712236404419,
     -0.004683443810790777,  -0.03946541249752045,  0.007119296118617058,
       0.05151404067873955, -0.026325643062591553,  0.027877826243638992,
      0.030428938567638397,  0.020593322813510895,   0.01724306493997574,
      0.012355993501842022, 0.0010844151256605983,  0.007092401850968599,
      -0.03706797957420349,   0.02352863922715187, -0.010665496811270714,
       0.04084854573011398, -0.002132331021130085,   0.03136639669537544,
     -0.042723458260297775, -0.006758144591003656,   -0.0472416952252388,
     -0.021807406097650528, -0.045674145221710205,  0.000996048329398036,
    0.00008950746996561065,  -0.04745684936642647,  -0.03294931724667549,
      0.023421062156558037,  -0.05286644026637077,  -0.05621669441461563,
     -0.022560445591807365,   0.01804220862686634,  -0.03590000048279762,
     0.0011708609526976943, -0.006001262925565243, -0.019840283319354057,
      0.011226434260606766, 0.0009922062745317817,  -0.02010154165327549,
       0.04512089118361473,   0.04137106239795685,  0.005490271840244532,
     -0.007296029478311539,   0.03915804997086525,  0.059720635414123535,
     -0.008675321005284786,
    ... 1436 more items
  ],
  [
      0.03480615094304085,  -0.03873502463102341,   0.002381386701017618,
    -0.028055867180228233, -0.011529536917805672,  -0.008971812203526497,
     -0.03768029436469078,   0.04490520805120468,   -0.04601267725229263,
     0.005306619685143232, -0.026236454024910927,   -0.03744297847151756,
    -0.038471344858407974, -0.029242439195513725,  -0.009453034028410912,
      0.06597347557544708,  -0.03538625314831734,    0.04801666736602783,
     0.005692255683243275,   0.03564993664622307,   0.048781346529722214,
    -0.010375924408435822, -0.023349124938249588,   0.004548531025648117,
      0.04841219261288643,  0.003882731543853879,   -0.03298673778772354,
    -0.022979969158768654,  0.029822543263435364,  -0.014107038266956806,
      0.03833950310945511,  -0.04226837679743767,   0.002051783027127385,
     0.020830953493714333,  -0.02911059930920601,   -0.01691526174545288,
     0.008609248325228691, -0.008081882260739803,   0.035781778395175934,
     0.017666758969426155,  0.026394663378596306,  -0.019407065585255623,
     0.041319120675325394,  0.029427018016576767,  -0.019051093608140945,
     -0.03464794158935547,  -0.06592074036598206,  -0.011430656537413597,
      0.04572262614965439,   0.04870224371552467,   0.003500391263514757,
     0.022861313074827194,  0.014871718361973763,    0.11886827647686005,
     0.010580278933048248, -0.046039044857025146,     0.0333031564950943,
     0.005583486519753933,  0.011193341575562954,     0.0212660301476717,
      0.04743656516075134,  0.039974335581064224, -0.0030175219289958477,
    -0.009017957374453545, -0.007046927232295275,  0.0036355287302285433,
    -0.013441238552331924, -0.015043112449347973,  -0.003353717504069209,
      0.02445659413933754,  -0.04398231580853462,    0.03525441139936447,
       -0.009479402564466, -0.014515746384859085,   -0.03541262075304985,
     -0.03920965641736984, -0.004591379314661026,   0.005669183563441038,
     -0.04102906957268715, -0.054318688809871674,  -0.049203239381313324,
    -0.004472722299396992, 0.0008965220768004656,   -0.04796392843127251,
     0.009446442127227783,  -0.02307225950062275,  -0.022940417751669884,
      0.02010582573711872,  0.018945621326565742, -0.0017485476564615965,
     0.013276437297463417,  -0.04242658615112305,    -0.0292951762676239,
     0.002231416990980506,   0.04060717672109604,   -0.04002707451581955,
    -0.033434998244047165,  0.024482961744070053,    0.03607182949781418,
    -0.011298814788460732,
    ... 1436 more items
  ]
]
âœ… Embeddings API

ğŸ¤– Testing Azure OpenAI Chat (Planner)...
AIMessage {
  "id": "chatcmpl-D6JaWg1Nyxe8GAr7iogPuO2DehnvA",
  "content": "Hello! How can I assist you today?",
  "additional_kwargs": {},
  "response_metadata": {
    "tokenUsage": {
      "promptTokens": 10,
      "completionTokens": 10,
      "totalTokens": 20
    },
    "finish_reason": "stop",
    "model_provider": "openai",
    "model_name": "gpt-4o-mini-2024-07-18",
    "usage": {
      "completion_tokens": 10,
      "completion_tokens_details": {
        "accepted_prediction_tokens": 0,
        "audio_tokens": 0,
        "reasoning_tokens": 0,
        "rejected_prediction_tokens": 0
      },
      "prompt_tokens": 10,
      "prompt_tokens_details": {
        "audio_tokens": 0,
        "cached_tokens": 0
      },
      "total_tokens": 20
    },
    "system_fingerprint": "fp_f97eff32c5"
  },
  "tool_calls": [],
  "invalid_tool_calls": [],
  "usage_metadata": {
    "output_tokens": 10,
    "input_tokens": 10,
    "total_tokens": 20,
    "input_token_details": {
      "audio": 0,
      "cache_read": 0
    },
    "output_token_details": {
      "audio": 0,
      "reasoning": 0
    }
  }
}
âœ… Planner LLM
   Model: gpt-4o-mini

ğŸ’¬ Testing Azure OpenAI Chat (Synthesizer)...
AIMessage {
  "id": "chatcmpl-D6JaZbcXgSBFvRl89iTtIfYG2F8VN",
  "content": "Hello! How can I assist you today? ğŸ˜Š",
  "additional_kwargs": {},
  "response_metadata": {
    "tokenUsage": {
      "promptTokens": 10,
      "completionTokens": 11,
      "totalTokens": 21
    },
    "finish_reason": "stop",
    "model_provider": "openai",
    "model_name": "gpt-4o-2024-11-20",
    "usage": {
      "completion_tokens": 11,
      "completion_tokens_details": {
        "accepted_prediction_tokens": 0,
        "audio_tokens": 0,
        "reasoning_tokens": 0,
        "rejected_prediction_tokens": 0
      },
      "prompt_tokens": 10,
      "prompt_tokens_details": {
        "audio_tokens": 0,
        "cached_tokens": 0
      },
      "total_tokens": 21
    },
    "system_fingerprint": "fp_b54fe76834"
  },
  "tool_calls": [],
  "invalid_tool_calls": [],
  "usage_metadata": {
    "output_tokens": 11,
    "input_tokens": 10,
    "total_tokens": 21,
    "input_token_details": {
      "audio": 0,
      "cache_read": 0
    },
    "output_token_details": {
      "audio": 0,
      "reasoning": 0
    }
  }
}
âœ… Synthesizer LLM
   Model: gpt-4o

ğŸ—„ï¸  Testing Azure DocumentDB for MongoDB vCore...
Connecting to MongoDB cluster: docdb-eopd77ujeia5s
Using DefaultAzureCredential for authentication...

âœ… Successfully connected to MongoDB!

ğŸ“š Databases:


âœ… Connection closed
âœ… MongoDB Connection

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š Test Summary
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Passed: 4
âŒ Failed: 0
ğŸ“ˆ Total:  4

ğŸ‰ All authentication tests passed! Your environment is ready.
   You can now run: npm run start